{% extends 'base.html' %}

{% block title %}
    <title>Grade List</title>
{% endblock %}

{% block content %}
    <h1>Grade List</h1>

    <!-- Search Form -->
    <form class="d-flex ms-3" method="GET" action="{% url 'grade_list' %}">
        {% csrf_token %}
        <input class="form-control me-2" type="search" name="query" placeholder="Search by Student Name, Subject, or Grade" value="{{ form.query.value }}" aria-label="Search">
        <button class="btn btn-outline-success" type="submit">Search</button>
    </form>

    <!-- Display Grades -->
    <h2>Grades</h2>
    <ul>
        {% for grade in grades %}
            <li>{{ grade.student.name }} - {{ grade.subject.name }}: {{ grade.grade }}</li>
        {% empty %}
            <li>No grades found matching your criteria.</li>
        {% endfor %}
    </ul>
{% endblock %}
